---
layout:     post
title:      "iosä¸­é‡åˆ°çš„é—®é¢˜"
date:       2020-04-30 11:36:00
author:     "Qz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - Other
---

> â€œYeah It's on. â€
>








# æ­£æ–‡







### ioså¼¹å‡ºé”®ç›˜å†æ”¶èµ·ç‚¹å‡»äº‹ä»¶æ— æ•ˆ



[ https://juejin.im/post/5c07442f51882528c4469769 ]( https://juejin.im/post/5c07442f51882528c4469769 )



æˆ‘ä»¬éƒ½çŸ¥é“åœ¨H5ç«¯æ˜¯æ²¡æ³•ç›‘æ§é”®ç›˜çš„å¼¹å‡ºä¸æ”¶èµ·çš„ï¼Œresizeäº‹ä»¶è§¦å‘çš„æœºå‹æå…¶æœ‰é™ï¼Œä½•å†µæˆ‘åœ¨iosä¸­å®æµ‹æ²¡æœ‰è§¦å‘ï¼Œå®‰å“åè€Œå¯ä»¥ã€‚å› ä¸ºå®‰å“å¼¹èµ·é”®ç›˜æ—¶ä¼šä¿®æ”¹è§†çª—çš„å¤§å°ï¼Œä½†æ˜¯ioså¹¶ä¸ä¼šï¼Œå¦‚æœä½ åœ¨iosä¸Šè®¾ç½®ä¸€ä¸ª100%é«˜åº¦çš„bodyï¼Œå¼¹èµ·é”®ç›˜åä½ ä¼šå‘ç°è¿™ä¸ªbodyæ˜¯å¯ä»¥ä¸Šä¸‹æ»šåŠ¨çš„ï¼Œå³100%é«˜åº¦çš„bodyè¶…å‡ºäº†è§†çª—ã€‚





 iosä¸Šä¸€ç›´æœ‰ä¸ªå¾ˆğŸ‚çš„ä¼˜åŒ–ï¼Œå¼¹å‡ºé”®ç›˜æ—¶ä¼šè‡ªåŠ¨æŠŠå½“å‰è¾“å…¥æ¡†æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸï¼Œåœ¨å®‰å“ä¸­ä¼šå‡ºç°é”®ç›˜é®æŒ¡è¾“å…¥æ¡†çš„é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´ 



----





ioså¼¹å‡ºé”®ç›˜å†æ”¶èµ·ç‚¹å‡»äº‹ä»¶æ— æ•ˆ,Whyï¼Ÿ



æ¨æµ‹æ˜¯bodyæ²¡æœ‰æ­£ç¡®é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´ç‚¹å‡»äº‹ä»¶ä¸å¤„äºbodyå†…è€Œæ— æ³•è§¦å‘ã€‚



é‚£ä¹ˆæ€ä¹ˆè§£å†³å‘¢ï¼Œæ˜¯ä¸æ˜¯åªè¦æŠŠbodyâ€˜æ¨â€™ä¼šæ¥å°±è¡Œäº†ï¼Ÿ æ–¹å‘æœ‰äº†ï¼Œç°åœ¨æ˜¯å¦‚ä½•â€˜æ¨â€™çš„é—®é¢˜ã€‚

ä¸Šæ–‡æœ‰è¯´è¿‡ï¼Œiosä¸‹å¼¹å‡º/æ”¶èµ·é”®ç›˜æ˜¯æ²¡æœ‰è§¦å‘resizeäº‹ä»¶çš„ï¼Œé‚£ä¹ˆåœ¨ä»€ä¹ˆèŠ‚ç‚¹è§¦å‘â€˜æ¨â€™çš„æ“ä½œå°±æˆäº†é—®é¢˜ã€‚





----



 æœ€ç»ˆè§£å†³æ–¹æ¡ˆ 



```js
    onBlur = (e) => {
        const { onBlur } = this.props;
        document.body && (document.body.scrollTop = document.body.scrollTop);
        onBlur && onBlur(e);
    }
```





 åœ¨inputè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„é’©å­ä¸­è®¾ç½®æ»šåŠ¨åˆ°åŸæœ‰ä½ç½®`(document.body.scrollTop = document.body.scrollTop)`ï¼Œè§¦å‘æµè§ˆå™¨çš„é‡ç»˜ï¼Œä½¿çš„é”™è¯¯çš„æ¸²æŸ“å›å¤æ­£å¸¸ï¼Œæ»šåŠ¨ä½ç½®ä¹Ÿä¸ä¼šæœ‰æ”¹å˜ï¼Œæ²¡æœ‰å½±å“ä½“éªŒã€‚ 





æ›´ä¸ºé€šç”¨çš„æ–¹æ³•



```js
/**
 * å¤„ç†iOS å¾®ä¿¡å®¢æˆ·ç«¯6.7.4 é”®ç›˜æ”¶èµ·é¡µé¢æœªä¸‹ç§»bug
 */
;(/iphone|ipod|ipad/i.test(navigator.appVersion)) && document.addEventListener('blur', (e) => {
    // è¿™é‡ŒåŠ äº†ä¸ªç±»å‹åˆ¤æ–­ï¼Œå› ä¸ºaç­‰å…ƒç´ ä¹Ÿä¼šè§¦å‘bluräº‹ä»¶
    ['input', 'textarea'].includes(e.target.localName) && document.body.scrollIntoView(false)
}, true)

```





 è¦åœ¨åŒ…ä¸ªå®šæ—¶å™¨æ‰èƒ½å½»åº•è§£å†³ï¼Œç‚¹å‡»é¡µé¢å…¶ä»–åŒºåŸŸå…³é—­è¾“å…¥æ³•çš„æƒ…å†µè¿˜æ˜¯ä¼šé”™ä½

```js
setTimeout(function(){         
    document.body.scrollIntoView(false);    
},200); 
```

















