---
layout:     post
title:      "height100%不起作用"
date:       2017-07-28 22:54:00
author:     "Qz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - Other
---

> “Yeah It's on. ”


## 正文

```css
div { 
    width: 100%;   /* 这是多余的 */    
    height: 100%;   /* 这是无效的 */  
    background: url(bg.jpg); 
} 
```

发现这个`<div>`高度永远是 0，哪怕其父级`<body>`塞满了内容也是如此。事实上，他需 要如下设置才行：

```
html, body {  
    height: 100%;
}
```


并且仅仅设置`<body>`也是不行的，因为此时的`<body>`也没有具体的高度值：
```
body {    
    /* 子元素 height:100%依旧无效 */
} 
```

**只要经过一定的实践，我们都会发现对于普通文档流中的元素，百分比高度值要想起作用， 其父级必须有一个可以生效的高度值**



### 为何 height:100%无效 

因为如果包含块的高度没有显式指定（即高度由内容决定），并且该元素不是绝对定位，则计算值为 auto。一句话总结就是：**因为解释成了auto**。要知道，auto 和百分比计算，肯定是算不了的

```
'auto' * 100/100 = NaN 
```



### 如何让元素支持 height:100%效果 

1. 设定显式的高度值。
2. 使用绝对定位


```css
div { 
    height: 100%;  
    position: absolute; 
} 
```

此时的 height:100%就会有计算值，即使祖先元素的 height 计算为 auto 也是如此。 


需要注意的是，绝对定位元素的百分比计算和非绝对定位元素的百分比计算是有区别的，区别在于**绝对定位的宽高百分比计算是相对于 padding box 的，也就是说会把 padding 大小值计算在内，但是，非绝对定位元素则是相对于 content box 计算的**。 



显式高度方法中规中矩，意料之中；绝对定 位方法剑走偏锋，支持隐式高度计算，给人意外之喜，但本身脱离文档流，使其仅在某些场景有 四两拨千斤的效果


比方说“图片左右半区点击分别上一张图下一张图效果”的布局

[http://demo.cssworld.cn/3/2-12.php](http://demo.cssworld.cn/3/2-12.php)






