---
layout:     post
title:      "ç§»åŠ¨ç«¯ç›¸å…³"
date:       2018-03-06 12:54:00
author:     "Qz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - Other
---

> â€œYeah It's on. â€


# æ­£æ–‡



## è¯†åˆ«æ¨ªå±

jsè¯†åˆ«

```js
window.addEventListener("resize", ()=>{
    if (window.orientation === 180 || window.orientation === 0) { 
      // æ­£å¸¸æ–¹å‘æˆ–å±å¹•æ—‹è½¬180åº¦
        console.log('ç«–å±');
    };
    if (window.orientation === 90 || window.orientation === -90 ){ 
       // å±å¹•é¡ºæ—¶é’Ÿæ—‹è½¬90åº¦æˆ–å±å¹•é€†æ—¶é’ˆæ—‹è½¬90åº¦
        console.log('æ¨ªå±');
    }  
});

```

cssè¯†åˆ«

```css
@media screen and (orientation: portrait) {
  /*ç«–å±...*/
} 
@media screen and (orientation: landscape) {
  /*æ¨ªå±...*/
}
```





## é’ˆå¯¹ä¸åŒdprå±å¹•é‡‡ç”¨ä¸åŒåˆ†è¾¨ç‡å›¾ç‰‡

å¦‚ï¼šåœ¨`dpr=2`çš„å±å¹•ä¸Šå±•ç¤ºä¸¤å€å›¾`(@2x)`ï¼Œåœ¨`dpr=3`çš„å±å¹•ä¸Šå±•ç¤ºä¸‰å€å›¾`(@3x)`ã€‚

ä½¿ç”¨`media`æŸ¥è¯¢åˆ¤æ–­ä¸åŒçš„è®¾å¤‡åƒç´ æ¯”æ¥æ˜¾ç¤ºä¸åŒç²¾åº¦çš„å›¾ç‰‡ï¼š

```scss
.avatar{
            background-image: url(conardLi_1x.png);
        }
        @media only screen and (-webkit-min-device-pixel-ratio:2){
            .avatar{
                background-image: url(conardLi_2x.png);
            }
        }
        @media only screen and (-webkit-min-device-pixel-ratio:3){
            .avatar{
                background-image: url(conardLi_3x.png);
            }
        }
```

> ä¸€èˆ¬ç”¨äºå¤§å›¾å¦‚èƒŒæ™¯å›¾ï¼Œå°å›¾æ ‡æ²¡å¿…è¦ç”¨è¿™ç§æ–¹å¼ï¼Œä¸å€¼å¾—





## ç«¯æ»šåŠ¨å±æ€§

é¡µé¢éœ€è¦è·å–å’Œä¿®æ”¹é¡µé¢çš„æ»šåŠ¨é«˜åº¦ï¼Œè¿›è¡Œçª—å£ç§»åŠ¨çš„å®šä½æ“ä½œã€‚è¿™é‡Œæœ‰ä¸ªå®‰å“æ‰‹æœºå’Œ iOS çš„å…¼å®¹æ€§é—®é¢˜ã€‚

å¯¹äº `document.documentElement.scrollTop` ï¼ŒiOS å¯ä»¥æ­£å¸¸è¯»å–å’Œè®¾ç½®å€¼ï¼Œå®‰å“ä¸å¯ä»¥ï¼ˆè¯»åˆ°çš„å€¼ä¸º 0ï¼Œä¿®æ”¹å€¼ä¸ä¼šçœŸæ­£æ”¹å˜çª—å£æ»šåŠ¨é«˜åº¦ï¼‰ï¼›

å¯¹äº `document.body.scrollTop` ï¼Œå®‰å“å¯ä»¥æ­£å¸¸è¯»å–å’Œè®¾ç½®å€¼ï¼ŒiOS ä¸å¯ä»¥ï¼›

å¯¹äº `window.scrollY` ï¼Œè²Œä¼¼ä¸¤è€…éƒ½å¯ä»¥ã€‚



è·å–çª—å£æ»šåŠ¨é«˜åº¦çš„å…¼å®¹å†™æ³•ï¼š

```js
const scrollTop = Math.max(window.scrollY, document.documentElement.scrollTop, document.body.scrollTop)
```

ä¿®æ”¹çª—å£æ»šåŠ¨é«˜åº¦çš„å…¼å®¹å†™æ³•ï¼š

```js
document.body.scrollTop = 100 // å®‰å“æœ‰æ•ˆ
document.documentElement.scrollTop = 100 // iOSæœ‰æ•ˆ
```







## è§¦æ‘¸äº‹ä»¶



[ç½‘é¡µé“¾æ¥](https://zhuanlan.zhihu.com/p/23509912)

pcä¸Šçš„webé¡µé¢é¼  æ ‡ä¼šäº§ç”Ÿonmousedownã€onmouseupã€onmouseoutã€onmouseoverã€onmousemoveçš„äº‹ä»¶ï¼Œ**ä½†æ˜¯åœ¨ç§»åŠ¨ç»ˆç«¯å¦‚ iphoneã€ipod Touchã€ipadä¸Šçš„webé¡µé¢è§¦å±æ—¶ä¼šäº§ç”Ÿontouchstartã€ontouchmoveã€ontouchendã€ontouchcancel äº‹ä»¶ï¼Œåˆ†åˆ«å¯¹åº”äº†è§¦å±å¼€å§‹ã€æ‹–æ‹½åŠå®Œæˆè§¦å±äº‹ä»¶å’Œå–æ¶ˆã€‚**
* å½“æŒ‰ä¸‹æ‰‹æŒ‡æ—¶ï¼Œè§¦å‘ontouchstartï¼›
* å½“ç§»åŠ¨æ‰‹æŒ‡æ—¶ï¼Œè§¦å‘ontouchmove
* å½“ç§»èµ°æ‰‹æŒ‡æ—¶ï¼Œè§¦å‘ontouchendã€‚
* å½“ä¸€äº›æ›´é«˜çº§åˆ«çš„äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼ˆå¦‚ç”µè¯æ¥å…¥æˆ–è€…å¼¹å‡ºä¿¡æ¯ï¼‰ä¼šå–æ¶ˆå½“å‰çš„touchæ“ä½œï¼Œå³è§¦å‘ontouchcancelã€‚ä¸€èˆ¬ä¼šåœ¨ontouchcancelæ—¶æš‚åœæ¸¸æˆã€å­˜æ¡£ç­‰æ“ä½œã€‚

**ä¸Šé¢çš„è¿™äº›äº‹ä»¶éƒ½ä¼šå†’æ³¡ï¼Œä¹Ÿéƒ½å¯ä»¥å–æ¶ˆ**


>DOM 0çº§äº‹ä»¶ä¸ç”Ÿæ•ˆï¼š
>document.ontouchstart = function(){alert("a")}  //ä¸èµ·ä½œç”¨

è§¦æ‘¸äº‹ä»¶è¿˜åŒ…å«ä¸‹é¢ä¸‰ä¸ªç”¨äºè·Ÿè¸ªè§¦æ‘¸çš„å±æ€§ã€‚
* touchesï¼šå½“å‰å±å¹•ä¸Šæ‰€æœ‰è§¦æ‘¸ç‚¹çš„åˆ—è¡¨
* targetTouchesï¼šå½“å‰å¯¹è±¡ä¸Šæ‰€æœ‰è§¦æ‘¸ç‚¹çš„åˆ—è¡¨
* changeTouchesï¼šæ¶‰åŠå½“å‰(å¼•å‘)äº‹ä»¶çš„è§¦æ‘¸ç‚¹çš„åˆ—è¡¨


1. ç”¨ä¸€ä¸ªæ‰‹æŒ‡æ¥è§¦å±å¹•ï¼Œè§¦å‘äº‹ä»¶ï¼Œæ­¤æ—¶è¿™ä¸‰ä¸ªå±æ€§æœ‰ç›¸åŒçš„å€¼ã€‚
2. ç”¨ç¬¬äºŒä¸ªæ‰‹æŒ‡æ¥è§¦å±å¹•ï¼Œæ­¤æ—¶ï¼Œtouchesæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªæ‰‹æŒ‡è§¦æ‘¸ç‚¹ä¸ºä¸€ä¸ªå€¼ã€‚å½“ä¸¤ä¸ªæ‰‹æŒ‡è§¦æ‘¸ç›¸åŒå…ƒç´ æ—¶ï¼Œ
targetToucheså’Œtouchesçš„å€¼ç›¸åŒï¼Œå¦åˆ™targetTouches åªæœ‰ä¸€ä¸ªå€¼ã€‚changedTouchesæ­¤æ—¶åªæœ‰ä¸€ä¸ªå€¼ï¼Œ
ä¸ºç¬¬äºŒä¸ªæ‰‹æŒ‡çš„è§¦æ‘¸ç‚¹ï¼Œå› ä¸ºç¬¬äºŒä¸ªæ‰‹æŒ‡æ˜¯**å¼•å‘äº‹ä»¶çš„åŸå› **
3. ç”¨ä¸¤ä¸ªæ‰‹æŒ‡åŒæ—¶æ¥è§¦å±å¹•ï¼Œæ­¤æ—¶changedTouchesæœ‰ä¸¤ä¸ªå€¼ï¼Œæ¯ä¸€ä¸ªæ‰‹æŒ‡çš„è§¦æ‘¸ç‚¹éƒ½æœ‰ä¸€ä¸ªå€¼
4. æ‰‹æŒ‡æ»‘åŠ¨æ—¶ï¼Œä¸‰ä¸ªå€¼éƒ½ä¼šå‘ç”Ÿå˜åŒ–
5.  ä¸€ä¸ªæ‰‹æŒ‡ç¦»å¼€å±å¹•ï¼Œtoucheså’ŒtargetTouchesä¸­å¯¹åº”çš„å…ƒç´ ä¼šåŒæ—¶ç§»é™¤ï¼Œè€ŒchangedTouchesä»ç„¶ä¼šå­˜åœ¨å…ƒç´ ã€‚
6. æ‰‹æŒ‡éƒ½ç¦»å¼€å±å¹•ä¹‹åï¼Œtoucheså’ŒtargetTouchesä¸­å°†ä¸ä¼šå†æœ‰å€¼ï¼Œ**changedTouchesè¿˜ä¼šæœ‰ä¸€ä¸ªå€¼ï¼Œ
æ­¤å€¼ä¸ºæœ€åä¸€ä¸ªç¦»å¼€å±å¹•çš„æ‰‹æŒ‡çš„æ¥è§¦ç‚¹ã€‚**(å¸¸å¸¸å¯ä»¥ç”¨äºtouchendäº‹ä»¶çš„é€»è¾‘å¤„ç†)




æ¯ä¸ªTouchå¯¹è±¡åŒ…å«çš„å±æ€§å¦‚ä¸‹ã€‚
* clientXï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„xåæ ‡ã€‚
* clientYï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„yåæ ‡ã€‚
* identifierï¼šæ ‡è¯†è§¦æ‘¸çš„å”¯ä¸€IDã€‚
* **pageXï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„xåæ ‡ã€‚**
* **pageYï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„yåæ ‡ã€‚**
* screenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚
* screenYï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„yåæ ‡ã€‚
* targetï¼šè§¦ç›®çš„DOMèŠ‚ç‚¹ç›®æ ‡ã€‚


### è§¦ç‚¹åæ ‡é€‰å–

touchstartå’Œtouchmoveä½¿ç”¨: e.targetTouches[0].pageX æˆ– (jquery)e.originalEvent.targetTouches[0].pageX

touchendä½¿ç”¨: e.changedTouches[0].pageX æˆ– (jquery)e.originalEvent.changedTouches[0].pageX




### åˆ¤æ–­æ‰‹æŒ‡æ»‘åŠ¨æ–¹å‘


```javascript
    var startx, starty;
        //è·å¾—è§’åº¦
        function getAngle(angx, angy) {
            return Math.atan2(angy, angx) * 180 / Math.PI;
        };
     
        //æ ¹æ®èµ·ç‚¹ç»ˆç‚¹è¿”å›æ–¹å‘ 1å‘ä¸Š 2å‘ä¸‹ 3å‘å·¦ 4å‘å³ 0æœªæ»‘åŠ¨
        function getDirection(startx, starty, endx, endy) {
            var angx = endx - startx;
            var angy = endy - starty;
            var result = 0;
     
            //å¦‚æœæ»‘åŠ¨è·ç¦»å¤ªçŸ­
            if (Math.abs(angx) < 2 && Math.abs(angy) < 2) {
                return result;
            }
     
            var angle = getAngle(angx, angy);
            if (angle >= -135 && angle <= -45) {
                result = 1;
            } else if (angle > 45 && angle < 135) {
                result = 2;
            } else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {
                result = 3;
            } else if (angle >= -45 && angle <= 45) {
                result = 4;
            }
     
            return result;
        }
        //æ‰‹æŒ‡æ¥è§¦å±å¹•
        document.addEventListener("touchstart", function(e) {
            startx = e.touches[0].pageX;
            starty = e.touches[0].pageY;
        }, false);
        //æ‰‹æŒ‡ç¦»å¼€å±å¹•
        document.addEventListener("touchend", function(e) {
            var endx, endy;
            endx = e.changedTouches[0].pageX;
            endy = e.changedTouches[0].pageY;
            var direction = getDirection(startx, starty, endx, endy);
            switch (direction) {
                case 0:
                    alert("æœªæ»‘åŠ¨ï¼");
                    break;
                case 1:
                    alert("å‘ä¸Šï¼")
                    break;
                case 2:
                    alert("å‘ä¸‹ï¼")
                    break;
                case 3:
                    alert("å‘å·¦ï¼")
                    break;
                case 4:
                    alert("å‘å³ï¼")
                    break;
                default:
            }
        }, false);
```



## audioç›¸å…³

[https://zhuanlan.zhihu.com/p/74566301](https://zhuanlan.zhihu.com/p/74566301)



### audioä¸è§¦å‘canplaythroughäº‹ä»¶

[https://www.cnblogs.com/pingfan1990/p/4595925.html](https://www.cnblogs.com/pingfan1990/p/4595925.html)



```js
var audio = new Audio();
audio.addEventListener("canplaythrough",function(){
    console.log("åŠ è½½å®Œæˆï¼");
},false);
audio.addEventListener("error",function(){
    console.log("åŠ è½½å¤±è´¥ï¼");
},false);
audio.src = src;
```



çœ‹è¿™æ®µä»£ç å¥½åƒæ²¡é”™ï¼Œåœ¨pcç«¯æ£€æµ‹ä¹Ÿæ²¡æœ‰é”™ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ”¾åˆ°h5ä¸Šé¢å°±ä¼šå‡ºé”™ï¼Œå› ä¸ºæ‰‹æœºä¸Šé¢éŸ³ä¹æ˜¯æµåª’ä½“åŠ è½½çš„ï¼Œå°±æ˜¯è¯´åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­æ˜¯å¯ä»¥æ’­æ”¾çš„ä¸€è¾¹åŠ è½½ä¸€è¾¹æ’­æ”¾ï¼Œ**canplaythrough äº‹ä»¶åœ¨ç§»åŠ¨ç«¯ï¼Œåªæœ‰å…è®¸audio/videoæ–‡ä»¶åŠ è½½æ’­æ”¾å®Œä¹‹åæ‰ä¼šæ‰§è¡Œã€‚**



```js
var audio = new Audio();
//canplaythroughè¿™ä¸ªäº‹ä»¶åœ¨æ‰‹æœºä¸Šæµåª’ä½“è¦ä¸€è¾¹æ’­æ”¾æ‰èƒ½ç›‘å¬å¾—åˆ°ï¼Œpcç«¯chromeå¯ä»¥å®Œç¾æ”¯æŒ
audio.addEventListener("canplaythrough",function(){
    //æˆ‘ä»¬å‘ç°æ’­æ”¾å®Œä¹‹åè¿™é‡Œæ‰§è¡Œäº†
    console.log("åŠ è½½å®Œæˆï¼");
},false);
audio.addEventListener("error",function(){
    console.log("åŠ è½½å¤±è´¥ï¼");
},false);
audio.src = src;
audio.play();
```



![](https://pic4.zhimg.com/v2-bae8255a8b714fc72631a22c61ce5973_r.jpg)









## å…ƒç´ æ‹–åŠ¨





[ç½‘é¡µé“¾æ¥](http://www.w3school.com.cn/html5/html_5_draganddrop.asp)

```html
<!DOCTYPE HTML>
<html>
<head>
<style type="text/css">
#div1 {width:198px; height:66px;padding:10px;border:1px solid #aaaaaa;}
</style>
<script type="text/javascript">
function allowDrop(ev)
{
ev.preventDefault();
}

function drag(ev)
{
ev.dataTransfer.setData("Text",ev.target.id);
}

function drop(ev)
{
ev.preventDefault();
var data=ev.dataTransfer.getData("Text");
ev.target.appendChild(document.getElementById(data));
}
</script>
</head>
<body>

<p>è¯·æŠŠ W3School çš„å›¾ç‰‡æ‹–æ”¾åˆ°çŸ©å½¢ä¸­ï¼š</p>

<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
<br />
<img id="drag1" src="/i/eg_dragdrop_w3school.gif" draggable="true" ondragstart="drag(event)" />

</body>
</html>
```

### è®¾ç½®å…ƒç´ ä¸ºå¯æ‹–æ”¾

é¦–å…ˆï¼Œä¸ºäº†ä½¿å…ƒç´ å¯æ‹–åŠ¨ï¼ŒæŠŠ draggable å±æ€§è®¾ç½®ä¸º true ï¼š
`<img draggable="true" />`

### æ‹–åŠ¨ä»€ä¹ˆ - ondragstart å’Œ setData()

ç„¶åï¼Œè§„å®šå½“å…ƒç´ è¢«æ‹–åŠ¨æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œondragstart å±æ€§è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œdrag(event)ï¼Œå®ƒè§„å®šäº†è¢«æ‹–åŠ¨çš„æ•°æ®ã€‚
dataTransfer.setData() æ–¹æ³•è®¾ç½®è¢«æ‹–æ•°æ®çš„æ•°æ®ç±»å‹å’Œå€¼ï¼š

```
function drag(ev)
{
ev.dataTransfer.setData("Text",ev.target.id);
}
```

### æ”¾åˆ°ä½•å¤„ - ondragover

ondragover äº‹ä»¶è§„å®šåœ¨ä½•å¤„æ”¾ç½®è¢«æ‹–åŠ¨çš„æ•°æ®ã€‚
é»˜è®¤åœ°ï¼Œæ— æ³•å°†æ•°æ®/å…ƒç´ æ”¾ç½®åˆ°å…¶ä»–å…ƒç´ ä¸­ã€‚å¦‚æœéœ€è¦è®¾ç½®å…è®¸æ”¾ç½®ï¼Œæˆ‘ä»¬å¿…é¡»é˜»æ­¢å¯¹å…ƒç´ çš„é»˜è®¤å¤„ç†æ–¹å¼ã€‚
è¿™è¦é€šè¿‡è°ƒç”¨ ondragover äº‹ä»¶çš„ event.preventDefault() æ–¹æ³•ï¼š

```
event.preventDefault()
```

### è¿›è¡Œæ”¾ç½® - ondrop

å½“æ”¾ç½®è¢«æ‹–æ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿ drop äº‹ä»¶ã€‚
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œondrop å±æ€§è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œdrop(event)ï¼š

```
function drop(ev)
{
ev.preventDefault();
var data=ev.dataTransfer.getData("Text");
ev.target.appendChild(document.getElementById(data));
}
```


### ä»£ç è§£é‡Šï¼š

* è°ƒç”¨ preventDefault() æ¥é¿å…æµè§ˆå™¨å¯¹æ•°æ®çš„é»˜è®¤å¤„ç†ï¼ˆdrop äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»¥é“¾æ¥å½¢å¼æ‰“å¼€ï¼‰
* é€šè¿‡ dataTransfer.getData("Text") æ–¹æ³•è·å¾—è¢«æ‹–çš„æ•°æ®ã€‚è¯¥æ–¹æ³•å°†è¿”å›åœ¨ setData() æ–¹æ³•ä¸­è®¾ç½®ä¸ºç›¸åŒç±»å‹çš„ä»»ä½•æ•°æ®ã€‚
* è¢«æ‹–æ•°æ®æ˜¯è¢«æ‹–å…ƒç´ çš„ id ("drag1")
* æŠŠè¢«æ‹–å…ƒç´ è¿½åŠ åˆ°æ”¾ç½®å…ƒç´ ï¼ˆç›®æ ‡å…ƒç´ ï¼‰ä¸­





## iosé‡åˆ°çš„é—®é¢˜





### ios æ»‘åŠ¨ä¸æµç•…



ä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚



**ä¸ºä»€ä¹ˆ iOS çš„ webview ä¸­ æ»‘åŠ¨ä¸æµç•…ï¼Œå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Ÿ**





 åŸæ¥åœ¨ iOS 5.0 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ `auto` å’Œ `touch`ï¼Œé»˜è®¤å€¼ä¸º `auto`ã€‚



```css
-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */

-webkit-overflow-scrolling: auto; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ */
```



#### è§£å†³æ–¹æ¡ˆ



å°†`-webkit-overflow-scrolling` å€¼è®¾ç½®ä¸º `touch`

```css
.wrapper {   
	-webkit-overflow-scrolling: touch;
}
```



è®¾ç½®æ»šåŠ¨æ¡éšè—ï¼š

```css
.container ::-webkit-scrollbar {
    display: none;
}
```



----



è®¾ç½® overflow



è®¾ç½®å¤–éƒ¨ `overflow` ä¸º `hidden`,è®¾ç½®å†…å®¹å…ƒç´  `overflow` ä¸º `auto`ã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚



```css
body {
    overflow-y: hidden;
}
.wrapper {
    overflow-y: auto;
}
```





**ä¸¤è€…ç»“åˆä½¿ç”¨æ›´ä½³ï¼**







### ios ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½



æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸‹æ‹‰ï¼Œå±å¹•é¡¶éƒ¨ä¼šå¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šæ‹‰ï¼Œåº•éƒ¨å¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚



äº§ç”ŸåŸå› 



åœ¨ iOS ä¸­ï¼Œæ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¼šè§¦å‘ `touchmove` äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è§¦å‘çš„å¯¹è±¡æ˜¯æ•´ä¸ª `webview` å®¹å™¨ï¼Œå®¹å™¨è‡ªç„¶ä¼šè¢«æ‹–åŠ¨ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¼šæˆç©ºç™½ã€‚



#### è§£å†³æ–¹æ¡ˆ



**ç›‘å¬äº‹ä»¶ç¦æ­¢æ»‘åŠ¨**





1. touchstart ï¼šæ‰‹æŒ‡æ”¾åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šã€‚
2. touchmove ï¼šæ‰‹æŒ‡æ‹–æ›³ä¸€ä¸ªDOMå…ƒç´ ã€‚
3. touchend ï¼šæ‰‹æŒ‡ä»ä¸€ä¸ªDOMå…ƒç´ ä¸Šç§»å¼€ã€‚





**`touchmove` äº‹ä»¶çš„é€Ÿåº¦æ˜¯å¯ä»¥å®ç°å®šä¹‰çš„ï¼Œå–å†³äºç¡¬ä»¶æ€§èƒ½å’Œå…¶ä»–å®ç°ç»†èŠ‚**

**`preventDefault` æ–¹æ³•ï¼Œé˜»æ­¢åŒä¸€è§¦ç‚¹ä¸Šæ‰€æœ‰é»˜è®¤è¡Œä¸ºï¼Œæ¯”å¦‚æ»šåŠ¨ã€‚**





ç”±æ­¤æˆ‘ä»¬æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ç›‘å¬ `touchmove`ï¼Œè®©éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹æ»‘åŠ¨ï¼Œä¸éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹ç¦æ­¢æ»‘åŠ¨ã€‚



> å€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¦è¿‡æ»¤æ‰å…·æœ‰æ»šåŠ¨å®¹å™¨çš„å…ƒç´ ã€‚



å®ç°å¦‚ä¸‹ï¼š

```js
document.body.addEventListener('touchmove', function(e) {  
if(e._isScroller) return;   
    // é˜»æ­¢é»˜è®¤äº‹ä»¶   
    e.preventDefault();
}, { passive: false
});
```





-----



**æ»šåŠ¨å¦¥åå¡«å……ç©ºç™½ï¼Œè£…é¥°æˆå…¶ä»–åŠŸèƒ½**





åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¢ä¸€ç›´æ€è·¯ã€‚æ ¹æ®åœºæ™¯ï¼Œ**æˆ‘ä»¬å¯ä»¥å°†ä¸‹æ‹‰ä½œä¸ºä¸€ä¸ªåŠŸèƒ½æ€§çš„æ“ä½œ**ã€‚



**æ¯”å¦‚ï¼šä¸‹æ‹‰ååˆ·æ–°é¡µé¢**







### é¡µé¢æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º


 HTML æœ¬èº«ä¼šäº§ç”Ÿæ”¾å¤§æˆ–ç¼©å°çš„è¡Œä¸ºï¼Œæ¯”å¦‚åœ¨ PC æµè§ˆå™¨ä¸Šï¼Œå¯ä»¥è‡ªç”±æ§åˆ¶é¡µé¢çš„æ”¾å¤§ç¼©å°ã€‚ä½†æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œæˆ‘ä»¬æ˜¯ä¸éœ€è¦è¿™ä¸ªè¡Œä¸ºçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç¦æ­¢è¯¥ä¸ç¡®å®šæ€§è¡Œä¸ºï¼Œæ¥æå‡ç”¨æˆ·ä½“éªŒã€‚



```html
<meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0 maximum-scale=1.0, user-scalable=no">
```







### click ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€



ç›‘å¬å…ƒç´  `click` äº‹ä»¶ï¼Œç‚¹å‡»å…ƒç´ è§¦å‘æ—¶é—´å»¶è¿Ÿçº¦ `300ms`ã€‚

ç‚¹å‡»è’™å±‚ï¼Œè’™å±‚æ¶ˆå¤±åï¼Œä¸‹å±‚å…ƒç´ ç‚¹å‡»è§¦å‘ã€‚



**ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ click å»¶æ—¶ï¼Ÿ**

iOS ä¸­çš„ safariï¼Œä¸ºäº†å®ç°åŒå‡»ç¼©æ”¾æ“ä½œï¼Œåœ¨å•å‡» 300ms ä¹‹åï¼Œå¦‚æœæœªè¿›è¡Œç¬¬äºŒæ¬¡ç‚¹å‡»ï¼Œåˆ™æ‰§è¡Œ `click` å•å‡»æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´æ¥åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºæ˜¯å¦ä¸ºåŒå‡»äº§ç”Ÿçš„ã€‚ä½†æ˜¯ï¼Œåœ¨ App ä¸­ï¼Œæ— è®ºæ˜¯å¦éœ€è¦åŒå‡»ç¼©æ”¾è¿™ç§è¡Œä¸ºï¼Œ`click` å•å‡»éƒ½ä¼šäº§ç”Ÿ 300ms å»¶è¿Ÿã€‚

##### 

**ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ click ç‚¹å‡»ç©¿é€ï¼Ÿ**

åŒå±‚å…ƒç´ å åŠ æ—¶ï¼Œåœ¨ä¸Šå±‚å…ƒç´ ä¸Šç»‘å®š `touch` äº‹ä»¶ï¼Œä¸‹å±‚å…ƒç´ ç»‘å®š `click` äº‹ä»¶ã€‚ç”±äº `click` å‘ç”Ÿåœ¨ `touch` ä¹‹åï¼Œç‚¹å‡»ä¸Šå±‚å…ƒç´ ï¼Œå…ƒç´ æ¶ˆå¤±ï¼Œä¸‹å±‚å…ƒç´ ä¼šè§¦å‘ `click` äº‹ä»¶ï¼Œç”±æ­¤äº§ç”Ÿäº†ç‚¹å‡»ç©¿é€çš„æ•ˆæœã€‚



-----



#### è§£å†³æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ touchstart æ›¿æ¢ click



å‰é¢å·²ç»ä»‹ç»äº†ï¼Œç§»åŠ¨è®¾å¤‡ä¸ä»…æ”¯æŒç‚¹å‡»ï¼Œè¿˜æ”¯æŒå‡ ä¸ªè§¦æ‘¸äº‹ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åŸºæœ¬æ€è·¯å°±æ˜¯ç”¨ `touch` äº‹ä»¶ä»£æ›¿`click` äº‹ä»¶ã€‚



å°† `click` æ›¿æ¢æˆ `touchstart` ä¸ä»…è§£å†³äº† `click` äº‹ä»¶éƒ½å»¶æ—¶é—®é¢˜ï¼Œè¿˜è§£å†³äº†ç©¿é€é—®é¢˜ã€‚å› ä¸ºç©¿é€é—®é¢˜æ˜¯åœ¨ `touch` å’Œ `click` æ··ç”¨æ—¶äº§ç”Ÿã€‚





å¼€æºè§£å†³æ–¹æ¡ˆä¸­ï¼Œä¹Ÿæ˜¯æ—¢æä¾›äº† `click` äº‹ä»¶ï¼Œåˆæä¾›äº†`touchstart` äº‹ä»¶ã€‚å¦‚ vant ä¸­çš„ `button` ç»„ä»¶




**é‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥å°† `click` äº‹ä»¶å…¨éƒ¨æ›¿æ¢æˆ `touchstart` å‘¢ï¼Ÿä¸ºä»€ä¹ˆå¼€æºæ¡†æ¶è¿˜ä¼šç»™å‡º `click` äº‹ä»¶å‘¢ï¼Ÿ**





æˆ‘ä»¬æƒ³è±¡ä¸€ç§æƒ…æ™¯ï¼ŒåŒæ—¶éœ€è¦ç‚¹å‡»å’Œæ»‘åŠ¨çš„åœºæ™¯ä¸‹ã€‚å¦‚æœå°† `click` æ›¿æ¢æˆ `touchstart` ä¼šæ€æ ·ï¼Ÿ



> äº‹ä»¶è§¦å‘é¡ºåº: `touchstart`, `touchmove`, `touchend`, `click`ã€‚



å¾ˆå®¹æ˜“æƒ³è±¡ï¼Œåœ¨æˆ‘éœ€è¦`touchmove`æ»‘åŠ¨æ—¶å€™ï¼Œä¼˜å…ˆè§¦å‘äº†`touchstart`çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ˜¯ä¸æ˜¯å·²ç»äº§ç”Ÿäº†å†²çªå‘¢ï¼Ÿ



æ‰€ä»¥å‘¢ï¼Œåœ¨å…·æœ‰æ»šåŠ¨çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨ `click` å¤„ç†ã€‚



#### è§£å†³æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ fastclick åº“

ä½¿ç”¨ `npm/yarn` å®‰è£…åä½¿ç”¨

```
import FastClick from 'fastclick';FastClick.attach(document.body, options);
```

åŒæ ·ï¼Œä½¿ç”¨`fastclick`åº“åï¼Œ`click` å»¶æ—¶å’Œç©¿é€é—®é¢˜éƒ½æ²¡äº†





### iPhone Xç³»åˆ—å®‰å…¨åŒºåŸŸé€‚é…é—®é¢˜

å¤´éƒ¨åˆ˜æµ·ä¸¤ä¾§åŒºåŸŸæˆ–è€…åº•éƒ¨åŒºåŸŸï¼Œå‡ºç°åˆ˜æµ·é®æŒ¡æ–‡å­—ï¼Œæˆ–è€…å‘ˆç°é»‘åº•æˆ–ç™½åº•ç©ºç™½åŒºåŸŸã€‚



äº§ç”ŸåŸå› 

iPhone X ä»¥åŠå®ƒä»¥ä¸Šçš„ç³»åˆ—ï¼Œéƒ½é‡‡ç”¨**åˆ˜æµ·å±è®¾è®¡**å’Œ**å…¨é¢å±æ‰‹åŠ¿**ã€‚å¤´éƒ¨ã€åº•éƒ¨ã€ä¾§è¾¹éƒ½éœ€è¦åšç‰¹æ®Šå¤„ç†ã€‚æ‰èƒ½é€‚é… iPhone X çš„ç‰¹æ®Šæƒ…å†µã€‚



#### è§£å†³æ–¹æ¡ˆ



**è®¾ç½®å®‰å…¨åŒºåŸŸï¼Œå¡«å……å±é™©åŒºåŸŸï¼Œå±é™©åŒºåŸŸä¸åšæ“ä½œå’Œå†…å®¹å±•ç¤ºã€‚**



> å±é™©åŒºåŸŸæŒ‡å¤´éƒ¨ä¸è§„åˆ™åŒºåŸŸï¼Œåº•éƒ¨æ¨ªæ¡åŒºåŸŸï¼Œå·¦å³è§¦å‘åŒºåŸŸã€‚ 





å…·ä½“æ“ä½œä¸ºï¼š`viewport-fit` `meta` æ ‡ç­¾è®¾ç½®ä¸º `cover`ï¼Œè·å–æ‰€æœ‰åŒºåŸŸå¡«å……ã€‚åˆ¤æ–­è®¾å¤‡æ˜¯å¦å±äº iPhone Xï¼Œç»™å¤´éƒ¨åº•éƒ¨å¢åŠ **é€‚é…å±‚**



`viewport-fit` æœ‰ 3 ä¸ªå€¼åˆ†åˆ«ä¸ºï¼š

- `auto`ï¼šæ­¤å€¼ä¸å½±å“åˆå§‹å¸ƒå±€è§†å›¾ç«¯å£ï¼Œå¹¶ä¸”æ•´ä¸ªwebé¡µé¢éƒ½æ˜¯å¯æŸ¥çœ‹çš„ã€‚
- `contain`ï¼šè§†å›¾ç«¯å£æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä»¥é€‚åˆæ˜¾ç¤ºå†…åµŒçš„æœ€å¤§çŸ©å½¢ã€‚
- `cover`ï¼šè§†å›¾ç«¯å£è¢«ç¼©æ”¾ä»¥å¡«å……è®¾å¤‡æ˜¾ç¤ºã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨ `safe area inset` å˜é‡ï¼Œä»¥ç¡®ä¿é‡è¦å†…å®¹ä¸ä¼šå‡ºç°åœ¨æ˜¾ç¤ºä¹‹å¤–ã€‚



è®¾ç½® viewport-fit ä¸º `cover`

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, viewport-fit=cover">
```



å¢åŠ é€‚é…å±‚



ä½¿ç”¨ `safe area inset` å˜é‡





```
/* é€‚é… iPhone X é¡¶éƒ¨å¡«å……*/@supports (top: env(safe-area-inset-top)){  body,  .header{      padding-top: constant(safe-area-inset-top, 40px);      padding-top: env(safe-area-inset-top, 40px);      padding-top: var(safe-area-inset-top, 40px);  }}/* åˆ¤æ–­iPhoneX å°† footer çš„ padding-bottom å¡«å……åˆ°æœ€åº•éƒ¨ */@supports (bottom: env(safe-area-inset-bottom)){    body,    .footer{        padding-bottom: constant(safe-area-inset-bottom, 20px);        padding-bottom: env(safe-area-inset-bottom, 20px);        padding-top: var(safe-area-inset-bottom, 20px);    }
```





### è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜





Android æ‰‹æœºä¸­ï¼Œç‚¹å‡» `input` æ¡†æ—¶ï¼Œé”®ç›˜å¼¹å‡ºï¼Œå°†é¡µé¢é¡¶èµ·æ¥ï¼Œå¯¼è‡´é¡µé¢æ ·å¼é”™ä¹±ã€‚

ç§»å¼€ç„¦ç‚¹æ—¶ï¼Œé”®ç›˜æ”¶èµ·ï¼Œé”®ç›˜åŒºåŸŸç©ºç™½ï¼Œæœªå›è½ã€‚



**äº§ç”ŸåŸå› **

æˆ‘ä»¬åœ¨app å¸ƒå±€ä¸­ä¼šæœ‰ä¸ªå›ºå®šçš„åº•éƒ¨ã€‚å®‰å“ä¸€äº›ç‰ˆæœ¬ä¸­ï¼Œè¾“å…¥å¼¹çª—å‡ºæ¥ï¼Œä¼šå°†è§£å‹ `absolute` å’Œ `fixed` å®šä½çš„å…ƒç´ ã€‚å¯¼è‡´å¯è§†åŒºåŸŸå˜å°ï¼Œå¸ƒå±€é”™ä¹±ã€‚



**åŸç†ä¸è§£å†³æ–¹æ¡ˆ**

è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯é€šè¿‡ç›‘å¬é¡µé¢é«˜åº¦å˜åŒ–ï¼Œå¼ºåˆ¶æ¢å¤æˆå¼¹å‡ºå‰çš„é«˜åº¦ã€‚



```js
// è®°å½•åŸæœ‰çš„è§†å£é«˜åº¦
const originalHeight = document.body.clientHeight || document.documentElement.clientHeight;

window.onresize = function(){
  var resizeHeight = document.documentElement.clientHeight || document.body.clientHeight;
  if(resizeHeight < originalHeight ){
    // æ¢å¤å†…å®¹åŒºåŸŸé«˜åº¦
    // const container = document.getElementById("container")
    // ä¾‹å¦‚ container.style.height = originalHeight;
  }
}
```



é”®ç›˜ä¸èƒ½å›è½é—®é¢˜å‡ºç°åœ¨ iOS 12+ å’Œ wechat 6.7.4+ ä¸­ï¼Œè€Œåœ¨å¾®ä¿¡ H5 å¼€å‘ä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„ Bugã€‚









### ioså¼¹å‡ºé”®ç›˜å†æ”¶èµ·ç‚¹å‡»äº‹ä»¶æ— æ•ˆ



[ https://juejin.im/post/5c07442f51882528c4469769 ]( https://juejin.im/post/5c07442f51882528c4469769 )



æˆ‘ä»¬éƒ½çŸ¥é“åœ¨H5ç«¯æ˜¯æ²¡æ³•ç›‘æ§é”®ç›˜çš„å¼¹å‡ºä¸æ”¶èµ·çš„ï¼Œresizeäº‹ä»¶è§¦å‘çš„æœºå‹æå…¶æœ‰é™ï¼Œä½•å†µæˆ‘åœ¨iosä¸­å®æµ‹æ²¡æœ‰è§¦å‘ï¼Œå®‰å“åè€Œå¯ä»¥ã€‚å› ä¸ºå®‰å“å¼¹èµ·é”®ç›˜æ—¶ä¼šä¿®æ”¹è§†çª—çš„å¤§å°ï¼Œä½†æ˜¯ioså¹¶ä¸ä¼šï¼Œå¦‚æœä½ åœ¨iosä¸Šè®¾ç½®ä¸€ä¸ª100%é«˜åº¦çš„bodyï¼Œå¼¹èµ·é”®ç›˜åä½ ä¼šå‘ç°è¿™ä¸ªbodyæ˜¯å¯ä»¥ä¸Šä¸‹æ»šåŠ¨çš„ï¼Œå³100%é«˜åº¦çš„bodyè¶…å‡ºäº†è§†çª—ã€‚





 iosä¸Šä¸€ç›´æœ‰ä¸ªå¾ˆğŸ‚çš„ä¼˜åŒ–ï¼Œå¼¹å‡ºé”®ç›˜æ—¶ä¼šè‡ªåŠ¨æŠŠå½“å‰è¾“å…¥æ¡†æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸï¼Œåœ¨å®‰å“ä¸­ä¼šå‡ºç°é”®ç›˜é®æŒ¡è¾“å…¥æ¡†çš„é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´ 



----





ioså¼¹å‡ºé”®ç›˜å†æ”¶èµ·ç‚¹å‡»äº‹ä»¶æ— æ•ˆ,Whyï¼Ÿ



æ¨æµ‹æ˜¯bodyæ²¡æœ‰æ­£ç¡®é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´ç‚¹å‡»äº‹ä»¶ä¸å¤„äºbodyå†…è€Œæ— æ³•è§¦å‘ã€‚



é‚£ä¹ˆæ€ä¹ˆè§£å†³å‘¢ï¼Œæ˜¯ä¸æ˜¯åªè¦æŠŠbodyâ€˜æ¨â€™ä¼šæ¥å°±è¡Œäº†ï¼Ÿ æ–¹å‘æœ‰äº†ï¼Œç°åœ¨æ˜¯å¦‚ä½•â€˜æ¨â€™çš„é—®é¢˜ã€‚

ä¸Šæ–‡æœ‰è¯´è¿‡ï¼Œiosä¸‹å¼¹å‡º/æ”¶èµ·é”®ç›˜æ˜¯æ²¡æœ‰è§¦å‘resizeäº‹ä»¶çš„ï¼Œé‚£ä¹ˆåœ¨ä»€ä¹ˆèŠ‚ç‚¹è§¦å‘â€˜æ¨â€™çš„æ“ä½œå°±æˆäº†é—®é¢˜ã€‚





----



 æœ€ç»ˆè§£å†³æ–¹æ¡ˆ 



```js
    onBlur = (e) => {
        const { onBlur } = this.props;
        document.body && (document.body.scrollTop = document.body.scrollTop);
        onBlur && onBlur(e);
    }
```





 åœ¨inputè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„é’©å­ä¸­è®¾ç½®æ»šåŠ¨åˆ°åŸæœ‰ä½ç½®`(document.body.scrollTop = document.body.scrollTop)`ï¼Œè§¦å‘æµè§ˆå™¨çš„é‡ç»˜ï¼Œä½¿çš„é”™è¯¯çš„æ¸²æŸ“å›å¤æ­£å¸¸ï¼Œæ»šåŠ¨ä½ç½®ä¹Ÿä¸ä¼šæœ‰æ”¹å˜ï¼Œæ²¡æœ‰å½±å“ä½“éªŒã€‚ 





æ›´ä¸ºé€šç”¨çš„æ–¹æ³•



```js
/**
 * å¤„ç†iOS å¾®ä¿¡å®¢æˆ·ç«¯6.7.4 é”®ç›˜æ”¶èµ·é¡µé¢æœªä¸‹ç§»bug
 */
;(/iphone|ipod|ipad/i.test(navigator.appVersion)) && document.addEventListener('blur', (e) => {
    // è¿™é‡ŒåŠ äº†ä¸ªç±»å‹åˆ¤æ–­ï¼Œå› ä¸ºaç­‰å…ƒç´ ä¹Ÿä¼šè§¦å‘bluräº‹ä»¶
    ['input', 'textarea'].includes(e.target.localName) && document.body.scrollIntoView(false)
}, true)

```





 è¦åœ¨åŒ…ä¸ªå®šæ—¶å™¨æ‰èƒ½å½»åº•è§£å†³ï¼Œç‚¹å‡»é¡µé¢å…¶ä»–åŒºåŸŸå…³é—­è¾“å…¥æ³•çš„æƒ…å†µè¿˜æ˜¯ä¼šé”™ä½

```js
setTimeout(function(){         
    document.body.scrollIntoView(false);    
},200); 
```











### iosçš„fixedå®šä½é—®é¢˜

é€šå¸¸æˆ‘ä»¬ç†è§£çš„fixedå…ƒç´ çš„ç›¸å¯¹äºè§†çª—æ¥å®šä½çš„ï¼Œä½†æ˜¯åœ¨iosé‡Œï¼Œfixedå…ƒç´ æ˜¯ç›¸å¯¹äºæœ€å…ˆçš„ï¼Œtranfromå±æ€§ä¸ä¸ºnoneï¼ˆæˆ–è€…will-changeä¸ä¸ºnoneï¼‰çš„ç¥–å®—å…ƒç´ æ¥å®šä½çš„ã€‚









## è‹¹æœå¼‚å½¢å±é€‚é…æ–¹æ¡ˆ



```css
@supports ((height: constant(safe-area-inset-top)) or (height: env(safe-area-inse body {
/* */
padding-top: constant(safe-area-inset-top);
/* */
padding-bottom: constant(safe-area-inset-bottom); }
}
```














